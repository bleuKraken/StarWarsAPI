<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- BOOTSTRAP -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <!-- LOCAL CSS -->
  <link rel="stylesheet" href="css/style.css">
  <title>StarWars Info</title>
</head>


<body>
  <!-- STORY BEGINS HERE -->
  <div id="header" class="container-fluid">
    <div class="row">
      <div class="col">
        <h1 class="text-center mb-5">
          Star Wars Data
        </h1>
      </div>
    </div>
  </div>

  <!--
  "name": "Luke Skywalker",
  "height": "172",
  "mass": "77",
  "hair_color": "blond",
  "skin_color": "fair",
  "eye_color": "blue",
  "birth_year": "19BBY",
  "gender": "male",
  -->
  <!-- INFO OF CHARACTER -->
  <div class="container">
    <div class="row">


      <!-- PLANET -->
      <div class="col-md-4 planet">
        <span id="planetPicker"></span>
        <h4 id="planet" class="text-center py-3 font-weight-bold"> From Planet</h4>
        <p> Name: 			 <span id="planetName">	    Unknown </span> </p>
        <p> Terrain: 		 <span id="terrain">	    Unknown </span> </p>
        <p> Planet Diameter: <span id="planetDiameter"> Unknown </span> </p>
        <p> Days in a Year:  <span id="daysInYear">	    Unknown </span> </p>
        <p> Hours in a Day:  <span id="DailyHours"> 	Unknown </span> </p>
        <p> Gravity: 		 <span id="gravity">		Unknown </span> </p>
        <p> Climate: 		 <span id="climate">		Unknown </span> </p>
        <p> Population: 	 <span id="population">		Unknown </span> </p>

      </div>



      <!-- CHARACTER -->
      <div class="col-md-4 border person">
        <span id="characterPicker"></span>
        <h4 id="name" class="text-center py-3 font-weight-bold"> Name</h4>
        <p> Height: 	 <span id="height"> Unknown</span>cm <span id="heightFt">Unknown</span>in</p>
        <p> Mass:		 <span id="mass">   Unknown</span>kg <span id="massLb"> Unknown</span>lb</p>
        <p> Hair Color:  <span id="hair">	Unknown </span> </p>
        <p> Skin Color:  <span id="skin">   Unknown </span> </p>
        <p> Eye Color: 	 <span id="eyes">   Unknown </span> </p>
        <p> Birth Year:  <span id="birth">  Unknown</span> </p>
        <p> Gender: 	 <span id="gender"> Unknown </span> </p>
        <p> Home Planet: <button href="#" onlick="planetClicked()">Check for Planet </button>
      </div>
      <div class="col-md-4">

      </div>
    </div>
  </div>
  
  
	<!-- GENERATE PLANET INFO -->
  <script>
    // API key and url
    var requestPlanetURL = "https://swapi.co/api/planets/1";
    // Have to make a new request
    var requestPlanet = new XMLHttpRequest();
    //I am going to GET, THIS URL
    requestPlanet.open('GET', requestPlanetURL);
    //What type is it?
    requestPlanet.responseType = 'text';
    //Send!
    requestPlanet.send();

    //Request fulfilled, whats happens on page load and when it returns?
    requestPlanet.onload = function() {
      var planetDataResponse = requestPlanet.response;
      var planetDataParsed = JSON.parse(planetDataResponse);


      //Send data to locations on page
      document.getElementById('planetName').innerHTML = planetDataParsed.name;
      document.getElementById('terrain').innerHTML = planetDataParsed.terrain;
      document.getElementById('planetDiameter').innerHTML = planetDataParsed.diameter;
      document.getElementById('daysInYear').innerHTML = planetDataParsed.orbital_period;

    }

  </script>

  <!--
    NOTE: THERE IS ONLY UP TO 89 CHARACTERS TO LOAD FORM
  -->
  <!-- MY SCRIPT -->
  <script>
    var characterPicker = (Math.floor(Math.random() * 89) + 1);
    // API key and url
    var requestURL = "https://swapi.co/api/people/" + characterPicker + "/";

    // Have to make a new request
    var request = new XMLHttpRequest();

    //I am going to GET, THIS URL
    request.open('GET', requestURL);

    //What type is it?
    request.responseType = 'text';
    //Send!
    request.send();

    //Request fulfilled, whats happens on page load and when it returns?
    request.onload = function() {
      var dataResponse = request.response;
      var dataParsed = JSON.parse(dataResponse);

      var heightCm = dataParsed.height;
      var massKg = dataParsed.mass;
      parseFloat(heightCm);

      //convert cm to height
      var heightFt = heightCm / 2.54;
      var massLb = massKg * 2.2;

      heightFt = heightFt.toFixed(2);
      massLb = massLb.toFixed(2)


      //Send data to locations on page
      document.getElementById('characterPicker').innerHTML = characterPicker;
      document.getElementById('name').innerHTML = dataParsed.name;
      document.getElementById('height').innerHTML = heightCm;
      document.getElementById('heightFt').innerHTML = heightFt;
      document.getElementById('mass').innerHTML = massKg;
      document.getElementById('massLb').innerHTML = massLb;
      document.getElementById('hair').innerHTML = dataParsed.hair_color;
      document.getElementById('skin').innerHTML = dataParsed.skin_color;
      document.getElementById('eyes').innerHTML = dataParsed.eye_color;
      document.getElementById('birth').innerHTML = dataParsed.birth_year;
      document.getElementById("gender").innerHTML = dataParsed.gender;

    }


  </script>



  <!-- FONT AWSOME -->
  <script src="https://kit.fontawesome.com/10a1582225.js"></script>
  <!-- jquery -->
  <script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <!-- JAVASCRIPT FOR BOOTSTRAP CLASSES -->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>

</html>
