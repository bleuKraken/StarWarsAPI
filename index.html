<!DOCTYPE html>
<html lang="en">

<!-- WAS AT 253 -->

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- BOOTSTRAP -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <!-- LOCAL CSS -->
  <link rel="stylesheet" href="css/style.css">
  <title>StarWars Info</title>
</head>


<body>
  <!-- STORY BEGINS HERE -->
  <div id="header" class="container-fluid">
    <div class="row">
      <div class="col">
        <h1 class="text-center mb-5">
          Star Wars Data
        </h1>
      </div>
    </div>
  </div>

  <!-- INFO OF CHARACTER -->
  <div class="container">
    <div class="row">
      <!-- col PLANET DATA -->
      <div class="col-md-4 border planet pt-5">
        <h4 id="planet" class="text-center py-3 font-weight-bold"> From Planet</h4>
        <p> Name: <span id="planetName"> Unknown </span> </p>
        <p> Terrain: <span id="terrain"> Unknown </span> </p>
        <p> Planet Diameter: <span id="planetDiameter"> Unknown </span> <span class="unit">km</span>
          <span id="planetDiameterMi">Unknown</span>mi
        </p>
        <p> Days in a Year: <span id="daysInYear"> Unknown </span> </p>
        <p> Hours in a Day: <span id="hoursInDay"> Unknown </span> </p>
        <p> Gravity: <span id="gravity"> Unknown </span> </p>
        <p> Climate: <span id="climate"> Unknown </span> </p>
        <p> Population: <span id="population"> Unknown </span> </p>
      </div>

      <!-- col CHARACTER DATA -->
      <div class="col-md-4 border person">
        <p class="text-center">Character #:<span id="characterPicker"></span> </p>
        <h4 id="name" class="text-center py-3 font-weight-bold text-lg"> Name</h4>
        <p> Height: <span id="height"> Unknown</span>cm <span id="heightFt">Unknown</span> <span class="unit">in</span></p>
        <p> Mass: <span id="mass"> Unknown</span>kg <span id="massLb"> Unknown</span> <span class="unit">lb</span> </p>
        <p> Hair Color: <span id="hair"> Unknown </span> </p>
        <p> Skin Color: <span id="skin"> Unknown </span> </p>
        <p> Eye Color: <span id="eyes"> Unknown </span> </p>
        <p> Birth Year: <span id="birth"> Unknown</span> </p>
        <p> Gender: <span id="gender"> Unknown </span> </p>
        <div class="text-center">
          <button type="button" class="btn btn-outline-light" value="Refresh Page" onClick="window.location.reload();">New Character</button>
        </div>
      </div>

      <!-- col FILMS DATA -->
      <div class="col-md-4 border filmList pt-5">
        <h4 id="filmSection" class="text-center py-3 font-weight-bold"> Appears On</h4>
        <a href="https://www.youtube.com/watch?v=bD7bpG-zDJQ"> <div class="floatUp movieLink my-1 "> <span id="episode1"></span> <span id="episode1TitleShow"></span></div> </a>
        <a href="https://www.youtube.com/watch?v=gYbW1F_c9eM"> <div class="floatUp movieLink my-1 "> <span id="episode2"></span> <span id="episode2TitleShow"></span></div> </a>
        <a href="https://www.youtube.com/watch?v=5UnjrG_N8hU"> <div class="floatUp movieLink my-1 "> <span id="episode3"></span> <span id="episode3TitleShow"></span></div> </a>
        <a href="https://www.youtube.com/watch?v=9gvqpFbRKtQ"> <div class="floatUp movieLink my-1 "> <span id="episode4"></span> <span id="episode4TitleShow"></span></div> </a>
        <a href="https://www.youtube.com/watch?v=xESiohGGP7g"> <div class="floatUp movieLink my-1 "> <span id="episode5"></span> <span id="episode5TitleShow"></span></div> </a>
        <a href="https://www.youtube.com/watch?v=5UfA_aKBGMc"> <div class="floatUp movieLink my-1 "> <span id="episode6"></span> <span id="episode6TitleShow"></span></div> </a>
        <a href="https://www.youtube.com/watch?v=sGbxmsDFVnE"> <div class="floatUp movieLink my-1 "> <span id="episode7"></span> <span id="episode7TitleShow"></span></div> </a>
        <a href="https://www.youtube.com/watch?v=Q0CbN8sfihY"> <div class="floatUp movieLink my-1 "> <span id="episode8"></span> <span id="episode8TitleShow"></span></div> </a>
        <a href="https://www.youtube.com/watch?v=8Qn_spdM5Zg"> <div class="floatUp movieLink my-1 "> <span id="episode9"></span> <span id="episode9TitleShow"></span></div> </a>
      </div>
    </div>
  </div>

  <!-- GENERATE PLANET INFO -->
  <script>
    // API key and url
    var requestPlanetURL = "https://swapi.co/api/planets/1";
    // Have to make a new request
    var requestPlanet = new XMLHttpRequest();
    //I am going to GET, THIS URL
    requestPlanet.open('GET', requestPlanetURL);
    //What type is it?
    requestPlanet.responseType = 'text';
    //Send!
    requestPlanet.send();

    //Request fulfilled, whats happens on page load and when it returns?
    requestPlanet.onload = function() {
      var planetDataResponse = requestPlanet.response;
      var planetDataParsed = JSON.parse(planetDataResponse);

      var planetDiameterKm = planetDataParsed.diameter;
      var planetDiameterMi = planetDiameterKm/1.609344;
      planetDiameterMi = planetDiameterMi.toFixed(2);




      //Send data to locations on page
      document.getElementById('planetName').innerHTML = planetDataParsed.name;
      document.getElementById('terrain').innerHTML = planetDataParsed.terrain;
      document.getElementById('planetDiameter').innerHTML = planetDataParsed.diameter;
      document.getElementById('planetDiameterMi').innerHTML = planetDiameterMi;


      document.getElementById('daysInYear').innerHTML = planetDataParsed.orbital_period;
      document.getElementById('hoursInDay').innerHTML = planetDataParsed.rotation_period;
      document.getElementById('gravity').innerHTML = planetDataParsed.gravity;
      document.getElementById('climate').innerHTML = planetDataParsed.climate;
      document.getElementById('population').innerHTML = planetDataParsed.population;
    }
  </script>

  <!-- CHARCTER STATS GENERATE -->
  <script>
    var characterPicker = (Math.floor(Math.random() * 89) + 1);
    // API key and url
    var requestURL = "https://swapi.co/api/people/" + characterPicker + "/";
    // Have to make a new request
    var request = new XMLHttpRequest();
    //I am going to GET, THIS URL
    request.open('GET', requestURL);
    //What type is it?
    request.responseType = 'text';
    //Send!
    request.send();

    //Request fulfilled, whats happens on page load and when it returns?
    request.onload = function() {
      var dataResponse = request.response;
      var dataParsed = JSON.parse(dataResponse);
      // Get units and convert
      var heightCm = dataParsed.height;
      var massKg = dataParsed.mass;
      //Converted vars
      parseFloat(heightCm);
      var heightFt = heightCm / 2.54;
      var massLb = massKg * 2.2;
      // Decimal place value
      heightFt = heightFt.toFixed(2);
      massLb = massLb.toFixed(2)
      var filmTotal = dataParsed.films.length;

      //For every link that shows, display that episode title
      for (var counter = 0; counter < filmTotal; counter++) {
        var episode1 = dataParsed.films[counter];
        if (episode1 == "https://swapi.co/api/films/1/") {
          document.getElementById('episode1').innerHTML = "Episode I:";
          document.getElementById('episode1TitleShow').innerHTML = "The Phantom Menace";
        }
        if (episode1 == "https://swapi.co/api/films/2/") {
          document.getElementById('episode2').innerHTML = "Episode II:";
          document.getElementById('episode2TitleShow').innerHTML = "Attack of the Clones";
        }
        if (episode1 == "https://swapi.co/api/films/3/") {
          document.getElementById('episode3').innerHTML = "Episode III:";
          document.getElementById('episode3TitleShow').innerHTML = "Revenge of the Sith";
        }
        if (episode1 == "https://swapi.co/api/films/4/") {
          document.getElementById('episode4').innerHTML = "Episode IV:";
          document.getElementById('episode4TitleShow').innerHTML = "A New Hope";
        }
        if (episode1 == "https://swapi.co/api/films/5/") {
          document.getElementById('episode5').innerHTML = "Episode V:";
          document.getElementById('episode5TitleShow').innerHTML = "The Empire Strikes Back";
        }
        if (episode1 == "https://swapi.co/api/films/6/") {
          document.getElementById('episode6').innerHTML = "Episode VI:";
          document.getElementById('episode6TitleShow').innerHTML = "Return of the Jedi";
        }
        if (episode1 == "https://swapi.co/api/films/7/") {
          document.getElementById('episode7').innerHTML = "Episode VII:";
          document.getElementById('episode7TitleShow').innerHTML = "The Force Awakens";
        }
        if (episode1 == "https://swapi.co/api/films/8/") {
          document.getElementById('episode8').innerHTML = "Episode VIII:";
          document.getElementById('episode8TitleShow').innerHTML = "The Last Jedi";
        }
        if (episode1 == "https://swapi.co/api/films/9/") {
          document.getElementById('episode9').innerHTML = "Episode IX:";
          document.getElementById('episode9TitleShow').innerHTML = "The Rise of Skywalker";
        }
      }

      //Send data to locations on page
      document.getElementById('characterPicker').innerHTML = characterPicker;
      document.getElementById('name').innerHTML = dataParsed.name;
      document.getElementById('height').innerHTML = heightCm;
      document.getElementById('heightFt').innerHTML = heightFt;
      document.getElementById('mass').innerHTML = massKg;
      document.getElementById('massLb').innerHTML = massLb;
      document.getElementById('hair').innerHTML = dataParsed.hair_color;
      document.getElementById('skin').innerHTML = dataParsed.skin_color;
      document.getElementById('eyes').innerHTML = dataParsed.eye_color;
      document.getElementById('birth').innerHTML = dataParsed.birth_year;
      document.getElementById("gender").innerHTML = dataParsed.gender;
    }
  </script>

  <!-- FONT AWSOME -->
  <script src="https://kit.fontawesome.com/10a1582225.js"></script>
  <!-- jquery -->
  <script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <!-- JAVASCRIPT FOR BOOTSTRAP CLASSES -->
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>

</html>
